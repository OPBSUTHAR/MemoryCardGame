<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
Â  <title>Memory Master</title>
Â  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
Â  Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" xintegrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
Â  <style>
Â  Â  :root {
Â  Â  Â  --primary: #00f0ff;
Â  Â  Â  --secondary: #7122fa;
Â  Â  Â  --accent: #ff00e6;
Â  Â  Â  --dark: #0a0e23;
Â  Â  Â  --light: #e0f8ff;
Â  Â  Â  --card-bg: linear-gradient(145deg, #0a0e23, #1a1f4a);
Â  Â  Â  --card-gradient-1: linear-gradient(135deg, #ff00e6, #7122fa); /* Pink-Purple */
Â  Â  Â  --card-gradient-2: linear-gradient(135deg, #00f0ff, #0084ff); /* Cyan-Blue */
Â  Â  Â  --card-gradient-3: linear-gradient(135deg, #ffcc00, #ff6600); /* Yellow-Orange */
Â  Â  Â  --card-gradient-4: linear-gradient(135deg, #00ff88, #00b4ff); /* Green-Light Blue */
Â  Â  Â  --glow: 0 0 15px currentColor;
Â  Â  Â  --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
Â  Â  }

Â  Â  * {
Â  Â  Â  margin: 0;
Â  Â  Â  padding: 0;
Â  Â  Â  box-sizing: border-box;
Â  Â  }

Â  Â  body {
Â  Â  Â  font-family: 'Kanit', sans-serif;
Â  Â  Â  background-color: var(--dark);
Â  Â  Â  color: var(--light);
Â  Â  Â  min-height: 100vh;
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  align-items: center;
Â  Â  Â  justify-content: center;
Â  Â  Â  padding: 10px;
Â  Â  Â  overflow: hidden;
Â  Â  Â  position: relative;
Â  Â  }

Â  Â  /* Space Background Animation */
Â  Â  .space-bg {
Â  Â  Â  position: fixed;
Â  Â  Â  top: 0;
Â  Â  Â  left: 0;
Â  Â  Â  width: 100%;
Â  Â  Â  height: 100%;
Â  Â  Â  z-index: -2;
Â  Â  Â  overflow: hidden;
Â  Â  }

Â  Â  .star {
Â  Â  Â  position: absolute;
Â  Â  Â  background-color: white;
Â  Â  Â  border-radius: 50%;
Â  Â  Â  animation: twinkle var(--duration, 5s) infinite ease-in-out;
Â  Â  Â  opacity: var(--opacity, 0.8);
Â  Â  Â  filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.5));
Â  Â  }

Â  Â  @keyframes twinkle {
Â  Â  Â  0%, 100% { opacity: 0.2; transform: scale(0.8); }
Â  Â  Â  50% { opacity: 1; transform: scale(1.2); }
Â  Â  }

Â  Â  .planet {
Â  Â  Â  position: absolute;
Â  Â  Â  border-radius: 50%;
Â  Â  Â  filter: drop-shadow(0 0 15px currentColor);
Â  Â  Â  animation: float var(--duration, 120s) linear infinite;
Â  Â  Â  opacity: 0.6;
Â  Â  }

Â  Â  @keyframes float {
Â  Â  Â  0% { transform: translate(var(--start-x, -20%), var(--start-y, -20%)) scale(var(--start-scale, 0.8)); }
Â  Â  Â  100% { transform: translate(var(--end-x, 120%), var(--end-y, 120%)) scale(var(--end-scale, 1.2)); }
Â  Â  }

Â  Â  .spaceship {
Â  Â  Â  position: absolute;
Â  Â  Â  font-size: 1.5rem;
Â  Â  Â  color: var(--primary);
Â  Â  Â  filter: drop-shadow(0 0 8px var(--primary));
Â  Â  Â  animation: fly var(--duration, 40s) linear infinite;
Â  Â  Â  transform: rotate(var(--rotation, 0deg));
Â  Â  Â  opacity: 0.7;
Â  Â  }

Â  Â  @keyframes fly {
Â  Â  Â  0% { transform: translate(calc(var(--fly-from-x, -100px)), var(--fly-from-y, 20vh)) rotate(var(--rotation, 0deg)); }
Â  Â  Â  100% { transform: translate(calc(var(--fly-to-x, 100vw + 100px)), var(--fly-to-y, 80vh)) rotate(var(--rotation, 0deg)); }
Â  Â  }

Â  Â  .math-symbol, .emoji-symbol {
Â  Â  Â  position: absolute;
Â  Â  Â  font-size: 1.5rem; /* Increased size for visibility */
Â  Â  Â  opacity: 0.6;
Â  Â  Â  color: rgba(255, 255, 255, 0.7);
Â  Â  Â  text-shadow: 0 0 8px currentColor;
Â  Â  Â  animation: float-symbol var(--duration, 60s) linear infinite;
Â  Â  }

Â  Â  @keyframes float-symbol {
Â  Â  Â  0% { transform: translate(var(--start-x, -10%), var(--start-y, -10%)) rotate(0deg) scale(0.8); }
Â  Â  Â  100% { transform: translate(var(--end-x, 110%), var(--end-y, 110%)) rotate(360deg) scale(1.2); }
Â  Â  }

Â  Â  /* Game Container */
Â  Â  .game-container {
Â  Â  Â  width: 100%;
Â  Â  Â  max-width: 1200px;
Â  Â  Â  background: rgba(10, 14, 35, 0.7);
Â  Â  Â  backdrop-filter: blur(8px);
Â  Â  Â  border-radius: 16px;
Â  Â  Â  padding: 20px;
Â  Â  Â  box-shadow: 0 0 30px rgba(0, 240, 255, 0.3);
Â  Â  Â  border: 1px solid rgba(0, 240, 255, 0.2);
Â  Â  Â  position: relative;
Â  Â  Â  overflow: hidden;
Â  Â  Â  z-index: 1;
Â  Â  }

Â  Â  .game-container::before {
Â  Â  Â  content: '';
Â  Â  Â  position: absolute;
Â  Â  Â  top: -50%;
Â  Â  Â  left: -50%;
Â  Â  Â  width: 200%;
Â  Â  Â  height: 200%;
Â  Â  Â  background: radial-gradient(circle, rgba(0, 240, 255, 0.1) 0%, transparent 70%);
Â  Â  Â  animation: pulse 8s infinite alternate;
Â  Â  Â  z-index: -1;
Â  Â  }

Â  Â  @keyframes pulse {
Â  Â  Â  0% { transform: scale(0.8); opacity: 0.3; }
Â  Â  Â  100% { transform: scale(1.2); opacity: 0.6; }
Â  Â  }

Â  Â  h1 {
Â  Â  Â  font-family: 'Orbitron', sans-serif;
Â  Â  Â  text-align: center;
Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  font-size: 2.8rem;
Â  Â  Â  background: linear-gradient(to right, var(--primary), var(--accent));
Â  Â  Â  -webkit-background-clip: text;
Â  Â  Â  background-clip: text;
Â  Â  Â  color: transparent;
Â  Â  Â  text-shadow: 0 0 10px rgba(0, 240, 255, 0.5);
Â  Â  Â  letter-spacing: 2px;
Â  Â  }

Â  Â  /* Controls */
Â  Â  .controls {
Â  Â  Â  display: flex;
Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  gap: 8px;
Â  Â  Â  justify-content: center;
Â  Â  Â  margin-bottom: 15px;
Â  Â  }

Â  Â  button, select {
Â  Â  Â  padding: 10px 18px;
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  font-family: 'Orbitron', sans-serif;
Â  Â  Â  font-weight: 500;
Â  Â  Â  cursor: pointer;
Â  Â  Â  transition: var(--transition);
Â  Â  Â  letter-spacing: 1px;
Â  Â  }

Â  Â  button {
Â  Â  Â  background: var(--card-gradient-1);
Â  Â  Â  color: white;
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  gap: 8px;
Â  Â  Â  box-shadow: 0 4px 10px rgba(113, 34, 250, 0.4);
Â  Â  }

Â  Â  button:hover {
Â  Â  Â  transform: translateY(-2px);
Â  Â  Â  box-shadow: 0 6px 15px rgba(113, 34, 250, 0.6);
Â  Â  }

Â  Â  button:active {
Â  Â  Â  transform: translateY(0);
Â  Â  }

Â  Â  select {
Â  Â  Â  background: rgba(10, 14, 35, 0.8);
Â  Â  Â  color: var(--light);
Â  Â  Â  border: 1px solid var(--primary);
Â  Â  Â  min-width: 150px;
Â  Â  Â  appearance: none;
Â  Â  Â  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2300f0ff'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");
Â  Â  Â  background-repeat: no-repeat;
Â  Â  Â  background-position: right 10px center;
Â  Â  Â  background-size: 15px;
Â  Â  }

Â  Â  /* Stats */
Â  Â  .stats {
Â  Â  Â  display: flex;
Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  justify-content: center;
Â  Â  Â  gap: 10px;
Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  background: rgba(0, 240, 255, 0.1);
Â  Â  Â  padding: 12px;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  border: 1px solid rgba(0, 240, 255, 0.2);
Â  Â  }

Â  Â  .stat-item {
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  gap: 8px;
Â  Â  Â  font-size: 0.95rem;
Â  Â  Â  background: rgba(10, 14, 35, 0.8);
Â  Â  Â  padding: 8px 12px;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  min-width: 120px;
Â  Â  Â  justify-content: center;
Â  Â  Â  border: 1px solid rgba(0, 240, 255, 0.1);
Â  Â  }

Â  Â  .stat-item i {
Â  Â  Â  font-size: 1.1rem;
Â  Â  }

Â  Â  .player1 { color: var(--primary); }
Â  Â  .player2 { color: var(--accent); }
Â  Â  .current {Â 
Â  Â  Â  color: white;Â 
Â  Â  Â  background: rgba(0, 240, 255, 0.2);
Â  Â  Â  box-shadow: 0 0 10px rgba(0, 240, 255, 0.3);
Â  Â  }
Â  Â  .moves { color: #a7c4f2; }
Â  Â  .time { color: #f8f9fa; }

Â  Â  /* Grid Container - Fixed sizing and centering */
Â  Â  .grid-container {
Â  Â  Â  width: 100%;
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: center;
Â  Â  Â  align-items: center;
Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  padding: 10px;
Â  Â  }

Â  Â  .grid {
Â  Â  Â  display: grid;
Â  Â  Â  gap: 6px; /* Reduced gap for more futuristic feel */
Â  Â  Â  width: fit-content;
Â  Â  Â  max-width: 100%;
Â  Â  }

Â  Â  /* Grid size specific layouts */
Â  Â  .grid.size-4 {
Â  Â  Â  grid-template-columns: repeat(4, 1fr);
Â  Â  Â  max-width: 320px;
Â  Â  }

Â  Â  .grid.size-6 {
Â  Â  Â  grid-template-columns: repeat(6, 1fr);
Â  Â  Â  max-width: 480px;
Â  Â  }

Â  Â  .grid.size-8 {
Â  Â  Â  grid-template-columns: repeat(8, 1fr);
Â  Â  Â  max-width: 560px;
Â  Â  }

Â  Â  .grid.size-10 {
Â  Â  Â  grid-template-columns: repeat(10, 1fr);
Â  Â  Â  max-width: 600px;
Â  Â  }

Â  Â  /* Cards - Fixed aspect ratio and responsive sizing */
Â  Â  .card {
Â  Â  Â  aspect-ratio: 1;
Â  Â  Â  width: 100%;
Â  Â  Â  height: auto;
Â  Â  Â  perspective: 1000px;
Â  Â  Â  cursor: pointer;
Â  Â  Â  position: relative;
Â  Â  Â  transform-style: preserve-3d;
Â  Â  Â  transition: transform 0.5s;
Â  Â  }

Â  Â  /* Responsive card sizes */
Â  Â  .grid.size-4 .card {
Â  Â  Â  width: 75px;
Â  Â  Â  height: 75px;
Â  Â  }

Â  Â  .grid.size-6 .card {
Â  Â  Â  width: 75px;
Â  Â  Â  height: 75px;
Â  Â  }

Â  Â  .grid.size-8 .card {
Â  Â  Â  width: 65px;
Â  Â  Â  height: 65px;
Â  Â  }

Â  Â  .grid.size-10 .card {
Â  Â  Â  width: 55px;
Â  Â  Â  height: 55px;
Â  Â  }

Â  Â  .card-inner {
Â  Â  Â  position: relative;
Â  Â  Â  width: 100%;
Â  Â  Â  height: 100%;
Â  Â  Â  transform-style: preserve-3d;
Â  Â  Â  transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
Â  Â  }

Â  Â  .card.flipped .card-inner {
Â  Â  Â  transform: rotateY(180deg);
Â  Â  }

Â  Â  .card-front, .card-back {
Â  Â  Â  position: absolute;
Â  Â  Â  width: 100%;
Â  Â  Â  height: 100%;
Â  Â  Â  backface-visibility: hidden;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  justify-content: center;
Â  Â  Â  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);
Â  Â  }

Â  Â  .card-front {
Â  Â  Â  /* Initial background is now dynamic based on nth-child */
Â  Â  Â  transform: rotateY(0deg);
Â  Â  Â  border: 1px solid rgba(0, 240, 255, 0.3);
Â  Â  Â  box-shadow: inset 0 0 15px rgba(0, 240, 255, 0.2);
Â  Â  Â  transition: box-shadow 0.3s ease;
Â  Â  }

Â  Â  .card-front:hover {
Â  Â  Â  box-shadow: inset 0 0 25px rgba(0, 240, 255, 0.4), 0 0 15px rgba(0, 240, 255, 0.4);
Â  Â  }

Â  Â  .card-back {
Â  Â  Â  background: white;
Â  Â  Â  transform: rotateY(180deg);
Â  Â  Â  border: 1px solid rgba(255, 255, 255, 0.3);
Â  Â  Â  color: #333;
Â  Â  Â  font-weight: bold;
Â  Â  }

Â  Â  /* Responsive font sizes for card content */
Â  Â  .grid.size-4 .card-back {
Â  Â  Â  font-size: 1.8rem;
Â  Â  }

Â  Â  .grid.size-6 .card-back {
Â  Â  Â  font-size: 1.6rem;
Â  Â  }

Â  Â  .grid.size-8 .card-back {
Â  Â  Â  font-size: 1.4rem;
Â  Â  }

Â  Â  .grid.size-10 .card-back {
Â  Â  Â  font-size: 1.2rem;
Â  Â  }

Â  Â  /* Card gradient patterns - applied to card-front */
Â  Â  .card-front.color-1 { background: var(--card-gradient-1); }
Â  Â  .card-front.color-2 { background: var(--card-gradient-2); }
Â  Â  .card-front.color-3 { background: var(--card-gradient-3); }
Â  Â  .card-front.color-4 { background: var(--card-gradient-4); }

Â  Â  /* Animations */
Â  Â  .card.matched {
Â  Â  Â  animation: matchedAnimation 0.6s forwards;
Â  Â  Â  pointer-events: none;
Â  Â  }

Â  Â  @keyframes matchedAnimation {
Â  Â  Â  0% { transform: scale(1); }
Â  Â  Â  50% {Â 
Â  Â  Â  Â  transform: scale(1.1);
Â  Â  Â  Â  filter: drop-shadow(0 0 10px var(--primary));
Â  Â  Â  }
Â  Â  Â  100% {Â 
Â  Â  Â  Â  transform: scale(1);
Â  Â  Â  Â  filter: drop-shadow(0 0 15px var(--primary));
Â  Â  Â  }
Â  Â  }

Â  Â  .card.shake {
Â  Â  Â  animation: shake 0.5s;
Â  Â  }

Â  Â  @keyframes shake {
Â  Â  Â  0%, 100% { transform: translateX(0); }
Â  Â  Â  20%, 60% { transform: translateX(-3px); }
Â  Â  Â  40%, 80% { transform: translateX(3px); }
Â  Â  }

Â  Â  .pulse {
Â  Â  Â  animation: pulse-effect 1.5s infinite;
Â  Â  }

Â  Â  @keyframes pulse-effect {
Â  Â  Â  0% { transform: scale(1); opacity: 1; }
Â  Â  Â  50% { transform: scale(1.05); opacity: 0.8; }
Â  Â  Â  100% { transform: scale(1); opacity: 1; }
Â  Â  }

Â  Â  /* Modal Windows */
Â  Â  .modal {
Â  Â  Â  position: fixed;
Â  Â  Â  top: 0;
Â  Â  Â  left: 0;
Â  Â  Â  width: 100%;
Â  Â  Â  height: 100%;
Â  Â  Â  background: rgba(0, 0, 0, 0.8);
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  align-items: center;
Â  Â  Â  justify-content: center;
Â  Â  Â  z-index: 1000;
Â  Â  Â  opacity: 0;
Â  Â  Â  pointer-events: none;
Â  Â  Â  transition: opacity 0.5s ease;
Â  Â  Â  backdrop-filter: blur(5px);
Â  Â  }

Â  Â  .modal.show {
Â  Â  Â  opacity: 1;
Â  Â  Â  pointer-events: all;
Â  Â  }

Â  Â  .modal-content {
Â  Â  Â  background: linear-gradient(145deg, #0a0e23, #1a1f4a);
Â  Â  Â  padding: 30px;
Â  Â  Â  border-radius: 16px;
Â  Â  Â  text-align: center;
Â  Â  Â  max-width: 90%;
Â  Â  Â  width: 500px;
Â  Â  Â  box-shadow: 0 0 30px rgba(0, 240, 255, 0.3);
Â  Â  Â  border: 1px solid rgba(0, 240, 255, 0.3);
Â  Â  Â  transform: scale(0.9);
Â  Â  Â  transition: transform 0.3s ease;
Â  Â  Â  position: relative;
Â  Â  Â  overflow: hidden;
Â  Â  }

Â  Â  .modal.show .modal-content {
Â  Â  Â  transform: scale(1);
Â  Â  }

Â  Â  .modal-content::before {
Â  Â  Â  content: '';
Â  Â  Â  position: absolute;
Â  Â  Â  top: -50%;
Â  Â  Â  left: -50%;
Â  Â  Â  width: 200%;
Â  Â  Â  height: 200%;
Â  Â  Â  background: linear-gradient(
Â  Â  Â  Â  to bottom right,
Â  Â  Â  Â  transparent 0%,
Â  Â  Â  Â  transparent 45%,
Â  Â  Â  Â  rgba(0, 240, 255, 0.1) 50%,
Â  Â  Â  Â  transparent 55%,
Â  Â  Â  Â  transparent 100%
Â  Â  Â  );
Â  Â  Â  animation: shine 3s infinite;
Â  Â  }

Â  Â  @keyframes shine {
Â  Â  Â  0% { transform: translate(-50%, -50%) rotate(0deg); }
Â  Â  Â  100% { transform: translate(-50%, -50%) rotate(360deg); }
Â  Â  }

Â  Â  .modal h2 {
Â  Â  Â  font-family: 'Orbitron', sans-serif;
Â  Â  Â  font-size: 2rem;
Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  color: var(--primary);
Â  Â  Â  text-shadow: 0 0 10px rgba(0, 240, 255, 0.5);
Â  Â  }

Â  Â  .modal p {
Â  Â  Â  font-size: 1.1rem;
Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  color: rgba(224, 248, 255, 0.9);
Â  Â  }

Â  Â  .winner {
Â  Â  Â  font-size: 1.8rem;
Â  Â  Â  font-weight: bold;
Â  Â  Â  margin: 20px 0;
Â  Â  Â  color: var(--primary);
Â  Â  Â  text-shadow: 0 0 15px rgba(0, 240, 255, 0.7);
Â  Â  Â  font-family: 'Orbitron', sans-serif;
Â  Â  }

Â  Â  /* Confetti */
Â  Â  .confetti {
Â  Â  Â  position: absolute;
Â  Â  Â  width: 12px;
Â  Â  Â  height: 12px;
Â  Â  Â  opacity: 0;
Â  Â  Â  /* Moved @keyframes fall from JS to CSS */
Â  Â  Â  animation: fall var(--duration) linear forwards var(--delay);
Â  Â  }

Â  Â  @keyframes fall {
Â  Â  Â  to {
Â  Â  Â  Â  transform: translateY(100vh) rotate(720deg);
Â  Â  Â  Â  opacity: 0;
Â  Â  Â  }
Â  Â  }

Â  Â  /* Loading Screen */
Â  Â  .loading {
Â  Â  Â  position: fixed;
Â  Â  Â  top: 0;
Â  Â  Â  left: 0;
Â  Â  Â  width: 100%;
Â  Â  Â  height: 100%;
Â  Â  Â  background: rgba(0, 0, 0, 0.9);
Â  Â  Â  z-index: 9999;
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: center;
Â  Â  Â  align-items: center;
Â  Â  Â  flex-direction: column;
Â  Â  Â  opacity: 0;
Â  Â  Â  pointer-events: none;
Â  Â  Â  transition: opacity 0.5s ease;
Â  Â  }

Â  Â  .loading.show {
Â  Â  Â  opacity: 1;
Â  Â  Â  pointer-events: all;
Â  Â  }

Â  Â  .loader {
Â  Â  Â  width: 60px;
Â  Â  Â  height: 60px;
Â  Â  Â  border: 5px solid rgba(0, 240, 255, 0.2);
Â  Â  Â  border-radius: 50%;
Â  Â  Â  border-top-color: var(--primary);
Â  Â  Â  animation: spin 1s ease-in-out infinite;
Â  Â  }

Â  Â  @keyframes spin {
Â  Â  Â  to { transform: rotate(360deg); }
Â  Â  }

Â  Â  .loading-text {
Â  Â  Â  color: var(--light);
Â  Â  Â  margin-top: 20px;
Â  Â  Â  font-size: 1.2rem;
Â  Â  Â  font-family: 'Orbitron', sans-serif;
Â  Â  Â  text-shadow: 0 0 10px var(--primary);
Â  Â  }

Â  Â  /* Responsive Adjustments */
Â  Â  @media (max-width: 768px) {
Â  Â  Â  h1 {
Â  Â  Â  Â  font-size: 2rem;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .stat-item {
Â  Â  Â  Â  font-size: 0.85rem;
Â  Â  Â  Â  padding: 6px 10px;
Â  Â  Â  Â  min-width: 100px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .grid.size-4 .card {
Â  Â  Â  Â  width: 65px;
Â  Â  Â  Â  height: 65px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .grid.size-6 .card {
Â  Â  Â  Â  width: 55px;
Â  Â  Â  Â  height: 55px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .grid.size-8 .card {
Â  Â  Â  Â  width: 45px;
Â  Â  Â  Â  height: 45px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .grid.size-10 .card {
Â  Â  Â  Â  width: 35px;
Â  Â  Â  Â  height: 35px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .grid.size-4 {
Â  Â  Â  Â  max-width: 280px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .grid.size-6 {
Â  Â  Â  Â  max-width: 360px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .grid.size-8 {
Â  Â  Â  Â  max-width: 400px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .grid.size-10 {
Â  Â  Â  Â  max-width: 380px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .modal-content {
Â  Â  Â  Â  padding: 20px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .modal h2 {
Â  Â  Â  Â  font-size: 1.5rem;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .modal p {
Â  Â  Â  Â  font-size: 1rem;
Â  Â  Â  }
Â  Â  }

Â  Â  @media (max-width: 480px) {
Â  Â  Â  .game-container {
Â  Â  Â  Â  padding: 15px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  h1 {
Â  Â  Â  Â  font-size: 1.8rem;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .controls {
Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  button, select {
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  max-width: 200px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .stat-item {
Â  Â  Â  Â  font-size: 0.8rem;
Â  Â  Â  Â  min-width: auto;
Â  Â  Â  Â  flex-grow: 1;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .grid.size-4 .card {
Â  Â  Â  Â  width: 55px;
Â  Â  Â  Â  height: 55px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .grid.size-6 .card {
Â  Â  Â  Â  width: 45px;
Â  Â  Â  Â  height: 45px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .grid.size-8 .card {
Â  Â  Â  Â  width: 35px;
Â  Â  Â  Â  height: 35px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .grid.size-10 .card {
Â  Â  Â  Â  width: 28px;
Â  Â  Â  Â  height: 28px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .grid.size-4 {
Â  Â  Â  Â  max-width: 240px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .grid.size-6 {
Â  Â  Â  Â  max-width: 300px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .grid.size-8 {
Â  Â  Â  Â  max-width: 320px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .grid.size-10 {
Â  Â  Â  Â  max-width: 320px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .modal-content {
Â  Â  Â  Â  padding: 15px;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .modal h2 {
Â  Â  Â  Â  font-size: 1.3rem;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  .modal p {
Â  Â  Â  Â  font-size: 0.9rem;
Â  Â  Â  }
Â  Â  }
Â  </style>
</head>
<body>
Â  Â  <div class="space-bg" id="space-bg"></div>
Â Â 
Â  Â  <div class="loading" id="loading">
Â  Â  <div class="loader"></div>
Â  Â  <div class="loading-text">Initializing Memory Matrix...</div>
Â  </div>

Â  Â  <div class="game-container">
Â  Â  <h1>MEMORY MASTER</h1>
Â  Â Â 
Â  Â  <div class="controls">
Â  Â  Â  <button onclick="startNewGame()">
Â  Â  Â  Â  <i class="fas fa-play"></i> New Game
Â  Â  Â  </button>
Â  Â  Â  <select id="difficulty" onchange="changeDifficulty()">
Â  Â  Â  Â  <option value="4">Easy (4Ã—4)</option>
Â  Â  Â  Â  <option value="6">Medium (6Ã—6)</option>
Â  Â  Â  Â  <option value="8">Hard (8Ã—8)</option>
Â  Â  Â  Â  <option value="10">Expert (10Ã—10)</option>
Â  Â  Â  </select>
Â  Â  Â  <button onclick="showHowToPlay()">
Â  Â  Â  Â  <i class="fas fa-question-circle"></i> How to Play
Â  Â  Â  </button>
Â  Â  </div>
Â  Â Â 
Â  Â  <div class="stats">
Â  Â  Â  <div class="stat-item player1">
Â  Â  Â  Â  <i class="fas fa-user-astronaut"></i>
Â  Â  Â  Â  <span id="player1-score">0</span>
Â  Â  Â  </div>
Â  Â  Â  <div class="stat-item player2">
Â  Â  Â  Â  <i class="fas fa-user-astronaut"></i>
Â  Â  Â  Â  <span id="player2-score">0</span>
Â  Â  Â  </div>
Â  Â  Â  <div class="stat-item current">
Â  Â  Â  Â  <i class="fas fa-sync-alt"></i>
Â  Â  Â  Â  <span id="current-player">Player 1</span>
Â  Â  Â  </div>
Â  Â  Â  <div class="stat-item moves">
Â  Â  Â  Â  <i class="fas fa-route"></i>
Â  Â  Â  Â  <span id="moves">0</span>
Â  Â  Â  </div>
Â  Â  Â  <div class="stat-item time">
Â  Â  Â  Â  <i class="fas fa-clock"></i>
Â  Â  Â  Â  <span id="timer">0</span>s
Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div class="grid-container">
Â  Â  Â  <div class="grid" id="grid"></div>
Â  Â  </div>
Â  </div>
Â Â 
Â  Â  <div class="modal" id="congratulations">
Â  Â  <div class="modal-content">
Â  Â  Â  <h2>MISSION COMPLETE!</h2>
Â  Â  Â  <div class="winner" id="winner"></div>
Â  Â  Â  <p><i class="fas fa-user-astronaut player1"></i> Player 1: <span id="final-player1-score">0</span></p>
Â  Â  Â  <p><i class="fas fa-user-astronaut player2"></i> Player 2: <span id="final-player2-score">0</span></p>
Â  Â  Â  <p><i class="fas fa-route"></i> Total Moves: <span id="final-moves">0</span></p>
Â  Â  Â  <p><i class="fas fa-clock"></i> Time: <span id="final-time">0</span>s</p>
Â  Â  Â  <button onclick="startNewGame()">
Â  Â  Â  Â  <i class="fas fa-redo"></i> New Mission
Â  Â  Â  </button>
Â  Â  </div>
Â  </div>
Â Â 
Â  Â  <div class="modal" id="how-to-play">
Â  Â  <div class="modal-content">
Â  Â  Â  <h2>HOW TO PLAY</h2>
Â  Â  Â  <p><i class="fas fa-user-astronaut"></i> 2 players alternate turns</p>
Â  Â  Â  <p><i class="fas fa-mouse-pointer"></i> Click cards to reveal them</p>
Â  Â  Â  <p><i class="fas fa-check"></i> Match pairs to score points</p>
Â  Â  Â  <p><i class="fas fa-sync-alt"></i> Match = extra turn</p>
Â  Â  Â  <p><i class="fas fa-times"></i> No match = next player</p>
Â  Â  Â  <p><i class="fas fa-trophy"></i> Most matches wins!</p>
Â  Â  Â  <button onclick="hideHowToPlay()">
Â  Â  Â  Â  <i class="fas fa-times"></i> Close
Â  Â  Â  </button>
Â  Â  </div>
Â  </div>

Â  <script>
Â  Â  // Game state variables
Â  Â  let cards = [];
Â  Â  let flippedCards = [];
Â  Â  let matchedCards = [];
Â  Â  let moves = 0;
Â  Â  let time = 0;
Â  Â  let timerInterval;
Â  Â  let gridSize = 4;
Â  Â  let currentPlayer = 1;
Â  Â  let player1Score = 0;
Â  Â  let player2Score = 0;
Â  Â  let gameActive = false;
Â  Â  let canFlip = true;
Â  Â  let timerStarted = false;
Â  Â Â 
Â  Â  // Enhanced emoji sets with enough symbols for all grid sizes
Â  Â  const emojiSets = {
Â  Â  Â  space: ['ğŸš€', 'ğŸ‘½', 'ğŸ›¸', 'ğŸŒŒ', 'ğŸª', 'ğŸ”­', 'ğŸŒ ', 'â˜„ï¸', 'ğŸŒ•', 'ğŸŒ‘', 'â­', 'ğŸŒŸ', 'ğŸ›°ï¸', 'ğŸ‘¨â€ğŸš€', 'ğŸ‘©â€ğŸš€', 'ğŸŒ', 'ğŸŒ', 'ğŸŒ', 'ğŸŒ™', 'ğŸ’«', 'âœ¨', 'ğŸª', 'ğŸŒ', 'ğŸ‘¾', 'ğŸŒ€', 'ğŸ”†', 'ğŸ”…', 'ğŸ’«', 'ğŸŒŒ', 'ğŸŒ '],
Â  Â  Â  numbers: ['1ï¸âƒ£', '2ï¸âƒ£', '3ï¸âƒ£', '4ï¸âƒ£', '5ï¸âƒ£', '6ï¸âƒ£', '7ï¸âƒ£', '8ï¸âƒ£', '9ï¸âƒ£', 'ğŸ”Ÿ', '0ï¸âƒ£', 'ğŸ” ', 'ğŸ”¡', 'ğŸ”¢', 'ğŸ”£', 'ğŸ’¯', 'ğŸ†”', 'ğŸ†•', 'ğŸ†“', 'ğŸ†’', 'ğŸ†™', 'ğŸ†–', 'ğŸ†š', 'ğŸˆ', 'ğŸˆ‚ï¸', 'ğŸˆ·ï¸', 'ğŸˆ¶', 'ğŸˆ¯', 'ğŸˆ²', 'ğŸˆ³'],
Â  Â  Â  nature: ['ğŸŒ¸', 'ğŸŒº', 'ğŸŒ»', 'ğŸŒ·', 'ğŸŒ¹', 'ğŸŒ±', 'ğŸŒ¿', 'ğŸ€', 'ğŸŒ³', 'ğŸŒ²', 'ğŸŒ´', 'ğŸŒµ', 'ğŸŒ¾', 'ğŸŒ§ï¸', 'ğŸŒˆ', 'â„ï¸', 'âš¡', 'ğŸ”¥', 'ğŸ’§', 'â˜€ï¸', 'ğŸ‚', 'ğŸ', 'ğŸ„', 'ğŸŒ°', 'ğŸŒ¼', 'ğŸ', 'ğŸ¦‹', 'ğŸ', 'ğŸœ', 'ğŸ•·ï¸'],
Â  Â  Â  animals: ['ğŸ¦', 'ğŸ¯', 'ğŸ»', 'ğŸ¼', 'ğŸ¨', 'ğŸµ', 'ğŸ¶', 'ğŸ±', 'ğŸ­', 'ğŸ¹', 'ğŸ°', 'ğŸ¦Š', 'ğŸº', 'ğŸ®', 'ğŸ·', 'ğŸ¸', 'ğŸ§', 'ğŸ¦', 'ğŸ¦…', 'ğŸ¦‰', 'ğŸ ', 'ğŸ¬', 'ğŸ³', 'ğŸ¦ˆ', 'ğŸ¢', 'ğŸ', 'ğŸŠ', 'ğŸ¦–', 'ğŸ¦•', 'ğŸ‰'],
Â  Â  Â  symbols: ['â™ ï¸', 'â™¥ï¸', 'â™¦ï¸', 'â™£ï¸', 'ğŸ”´', 'ğŸ”µ', 'ğŸŸ¢', 'ğŸŸ¡', 'ï¿½', 'ğŸŸ£', 'âš«', 'âšª', 'ğŸ”¶', 'ğŸ”·', 'ğŸ”¸', 'ğŸ”¹', 'ğŸ’', 'â­•', 'âŒ', 'âœ…', 'â˜®ï¸', 'â˜¯ï¸', 'âš›ï¸', 'â˜£ï¸', 'âš ï¸', 'â˜¢ï¸', 'ğŸš¸', 'â™¿', 'ğŸ›‘', 'ğŸ’¯'],
Â  Â  Â  greek: ['Î‘', 'Î’', 'Î“', 'Î”', 'Î•', 'Î–', 'Î—', 'Î˜', 'Î™', 'Îš', 'Î›', 'Îœ', 'Î', 'Î', 'ÎŸ', 'Î ', 'Î¡', 'Î£', 'Î¤', 'Î¥', 'Î¦', 'Î§', 'Î¨', 'Î©']
Â  Â  };
Â  Â Â 
Â  Â  // Math symbols for background
Â  Â  const mathSymbols = ['+', '-', 'Ã—', 'Ã·', '=', 'â‰ ', 'â‰ˆ', 'âˆš', 'âˆ«', 'âˆ‘', 'âˆ', 'âˆ‚', 'âˆ†', 'âˆ‡', 'âˆˆ', 'âˆ‰', 'âˆ©', 'âˆª', 'âŠ‚', 'âŠƒ', 'âˆ§', 'âˆ¨', 'Â¬', 'âˆ€', 'âˆƒ', 'âˆ', 'â‰…', 'â‰¡', 'â‰²', 'â‰³', 'âˆ'];
Â  Â Â 
Â  Â  // Get appropriate emoji set based on grid size
Â  Â  function getEmojiSet(size) {
Â  Â  Â  const pairsNeeded = (size * size) / 2;
Â  Â  Â  const availableSets = Object.values(emojiSets).filter(set => set.length >= pairsNeeded);
Â  Â  Â  if (availableSets.length > 0) {
Â  Â  Â  Â  return availableSets[Math.floor(Math.random() * availableSets.length)];
Â  Â  Â  }
Â  Â  Â  return emojiSets.space; // Fallback to a large set
Â  Â  }

Â  Â  // Utility function to shuffle an array
Â  Â  function shuffle(array) {
Â  Â  Â  for (let i = array.length - 1; i > 0; i--) {
Â  Â  Â  Â  const j = Math.floor(Math.random() * (i + 1));
Â  Â  Â  Â  [array[i], array[j]] = [array[j], array[i]];
Â  Â  Â  }
Â  Â  Â  return array;
Â  Â  }

Â  Â  // Initialize the game board
Â  Â  function initializeGame() {
Â  Â  Â  showLoading();
Â  Â  Â  clearInterval(timerInterval);
Â  Â  Â  gameActive = false;
Â  Â  Â  timerStarted = false;
Â  Â  Â  flippedCards = [];
Â  Â  Â  matchedCards = [];
Â  Â  Â  moves = 0;
Â  Â  Â  time = 0;
Â  Â  Â  currentPlayer = 1;
Â  Â  Â  player1Score = 0;
Â  Â  Â  player2Score = 0;
Â  Â  Â  canFlip = true;

Â  Â  Â  updateStats();
Â  Â  Â  document.getElementById('grid').innerHTML = '';
Â  Â  Â  document.getElementById('grid').className = `grid size-${gridSize}`;

Â  Â  Â  const selectedEmojis = getEmojiSet(gridSize);
Â  Â  Â  const numPairs = (gridSize * gridSize) / 2;
Â  Â  Â  let gameEmojis = selectedEmojis.slice(0, numPairs);
Â  Â  Â  gameEmojis = [...gameEmojis, ...gameEmojis]; // Duplicate for pairs
Â  Â  Â  shuffle(gameEmojis);

Â  Â  Â  cards = [];
Â  Â  Â  for (let i = 0; i < gameEmojis.length; i++) {
Â  Â  Â  Â  const cardElement = document.createElement('div');
Â  Â  Â  Â  cardElement.classList.add('card');
Â  Â  Â  Â  cardElement.dataset.index = i;
Â  Â  Â  Â  cardElement.dataset.value = gameEmojis[i];

Â  Â  Â  Â  const cardInner = document.createElement('div');
Â  Â  Â  Â  cardInner.classList.add('card-inner');

Â  Â  Â  Â  const cardFront = document.createElement('div');
Â  Â  Â  Â  cardFront.classList.add('card-front', `color-${(i % 4) + 1}`); // Assign gradients
Â  Â  Â  Â Â 
Â  Â  Â  Â  const cardBack = document.createElement('div');
Â  Â  Â  Â  cardBack.classList.add('card-back');
Â  Â  Â  Â  cardBack.textContent = gameEmojis[i];

Â  Â  Â  Â  cardInner.appendChild(cardFront);
Â  Â  Â  Â  cardInner.appendChild(cardBack);
Â  Â  Â  Â  cardElement.appendChild(cardInner);
Â  Â  Â  Â  cardElement.addEventListener('click', flipCard);
Â  Â  Â  Â  document.getElementById('grid').appendChild(cardElement);
Â  Â  Â  Â  cards.push(cardElement);
Â  Â  Â  }

Â  Â  Â  // Brief reveal of cards at start
Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  cards.forEach(card => card.classList.add('flipped'));
Â  Â  Â  }, 500);

Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  cards.forEach(card => card.classList.remove('flipped'));
Â  Â  Â  Â  gameActive = true;
Â  Â  Â  Â  hideLoading();
Â  Â  Â  }, 2000); // 1.5s to see + 0.5s for initial flip = 2s total reveal
Â  Â  }

Â  Â  // Start the game timer
Â  Â  function startTimer() {
Â  Â  Â  if (!timerStarted) {
Â  Â  Â  Â  timerStarted = true;
Â  Â  Â  Â  timerInterval = setInterval(() => {
Â  Â  Â  Â  Â  time++;
Â  Â  Â  Â  Â  document.getElementById('timer').textContent = time;
Â  Â  Â  Â  }, 1000);
Â  Â  Â  }
Â  Â  }

Â  Â  // Flip card logic
Â  Â  function flipCard() {
Â  Â  Â  if (!gameActive || !canFlip || this.classList.contains('flipped') || this.classList.contains('matched')) {
Â  Â  Â  Â  return;
Â  Â  Â  }

Â  Â  Â  startTimer(); // Start timer on first flip

Â  Â  Â  this.classList.add('flipped');
Â  Â  Â  flippedCards.push(this);

Â  Â  Â  if (flippedCards.length === 2) {
Â  Â  Â  Â  canFlip = false;
Â  Â  Â  Â  moves++;
Â  Â  Â  Â  updateStats();

Â  Â  Â  Â  const [card1, card2] = flippedCards;

Â  Â  Â  Â  if (card1.dataset.value === card2.dataset.value) {
Â  Â  Â  Â  Â  // Match found
Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  card1.classList.add('matched');
Â  Â  Â  Â  Â  Â  card2.classList.add('matched');
Â  Â  Â  Â  Â  Â  matchedCards.push(card1, card2);

Â  Â  Â  Â  Â  Â  if (currentPlayer === 1) {
Â  Â  Â  Â  Â  Â  Â  player1Score++;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  player2Score++;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  updateStats();

Â  Â  Â  Â  Â  Â  flippedCards = [];
Â  Â  Â  Â  Â  Â  canFlip = true;
Â  Â  Â  Â  Â  Â  checkGameEnd();
Â  Â  Â  Â  Â  }, 600); // Animation duration for matched
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  // No match
Â  Â  Â  Â  Â  card1.classList.add('shake');
Â  Â  Â  Â  Â  card2.classList.add('shake');

Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  card1.classList.remove('flipped', 'shake');
Â  Â  Â  Â  Â  Â  card2.classList.remove('flipped', 'shake');
Â  Â  Â  Â  Â  Â  flippedCards = [];
Â  Â  Â  Â  Â  Â  canFlip = true;
Â  Â  Â  Â  Â  Â  switchPlayer();
Â  Â  Â  Â  Â  }, 1000); // Time to show wrong match + shake animation
Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  }

Â  Â  // Switch current player
Â  Â  function switchPlayer() {
Â  Â  Â  currentPlayer = currentPlayer === 1 ? 2 : 1;
Â  Â  Â  updateStats();
Â  Â  Â  const currentPlayerEl = document.getElementById('current-player');
Â  Â  Â  currentPlayerEl.classList.remove('player1', 'player2', 'pulse');
Â  Â  Â  currentPlayerEl.classList.add(`player${currentPlayer}`, 'pulse');
Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  currentPlayerEl.classList.remove('pulse');
Â  Â  Â  }, 1500); // Remove pulse after animation
Â  Â  }

Â  Â  // Update game statistics
Â  Â  function updateStats() {
Â  Â  Â  document.getElementById('player1-score').textContent = player1Score;
Â  Â  Â  document.getElementById('player2-score').textContent = player2Score;
Â  Â  Â  document.getElementById('current-player').textContent = `Player ${currentPlayer}`;
Â  Â  Â  document.getElementById('moves').textContent = moves;
Â  Â  Â  document.getElementById('timer').textContent = time;

Â  Â  Â  // Update current player highlight
Â  Â  Â  document.querySelector('.stat-item.player1').classList.remove('current');
Â  Â  Â  document.querySelector('.stat-item.player2').classList.remove('current');
Â  Â  Â  if (currentPlayer === 1) {
Â  Â  Â  Â  document.querySelector('.stat-item.player1').classList.add('current');
Â  Â  Â  } else {
Â  Â  Â  Â  document.querySelector('.stat-item.player2').classList.add('current');
Â  Â  Â  }
Â  Â  }

Â  Â  // Check if game has ended
Â  Â  function checkGameEnd() {
Â  Â  Â  if (matchedCards.length === cards.length) {
Â  Â  Â  Â  gameActive = false;
Â  Â  Â  Â  clearInterval(timerInterval);
Â  Â  Â  Â  showCongratulations();
Â  Â  Â  }
Â  Â  }

Â  Â  // Show congratulations modal
Â  Â  function showCongratulations() {
Â  Â  Â  const winnerEl = document.getElementById('winner');
Â  Â  Â  if (player1Score > player2Score) {
Â  Â  Â  Â  winnerEl.textContent = 'Player 1 Wins!';
Â  Â  Â  Â  winnerEl.style.color = 'var(--primary)';
Â  Â  Â  } else if (player2Score > player1Score) {
Â  Â  Â  Â  winnerEl.textContent = 'Player 2 Wins!';
Â  Â  Â  Â  winnerEl.style.color = 'var(--accent)';
Â  Â  Â  } else {
Â  Â  Â  Â  winnerEl.textContent = 'It\'s a Tie!';
Â  Â  Â  Â  winnerEl.style.color = 'var(--light)';
Â  Â  Â  }

Â  Â  Â  document.getElementById('final-player1-score').textContent = player1Score;
Â  Â  Â  document.getElementById('final-player2-score').textContent = player2Score;
Â  Â  Â  document.getElementById('final-moves').textContent = moves;
Â  Â  Â  document.getElementById('final-time').textContent = time;

Â  Â  Â  document.getElementById('congratulations').classList.add('show');
Â  Â  Â  createConfetti();
Â  Â  }

Â  Â  // Hide congratulations modal
Â  Â  function hideCongratulations() {
Â  Â  Â  document.getElementById('congratulations').classList.remove('show');
Â  Â  Â  document.querySelectorAll('.confetti').forEach(c => c.remove());
Â  Â  }

Â  Â  // Show how to play modal
Â  Â  function showHowToPlay() {
Â  Â  Â  document.getElementById('how-to-play').classList.add('show');
Â  Â  }

Â  Â  // Hide how to play modal
Â  Â  function hideHowToPlay() {
Â  Â  Â  document.getElementById('how-to-play').classList.remove('show');
Â  Â  }

Â  Â  // Start a new game
Â  Â  function startNewGame() {
Â  Â  Â  hideCongratulations();
Â  Â  Â  hideHowToPlay();
Â  Â  Â  initializeGame();
Â  Â  }

Â  Â  // Change difficulty (grid size)
Â  Â  function changeDifficulty() {
Â  Â  Â  gridSize = parseInt(document.getElementById('difficulty').value);
Â  Â  Â  startNewGame();
Â  Â  }

Â  Â  // Show loading screen
Â  Â  function showLoading() {
Â  Â  Â  document.getElementById('loading').classList.add('show');
Â  Â  }

Â  Â  // Hide loading screen
Â  Â  function hideLoading() {
Â  Â  Â  document.getElementById('loading').classList.remove('show');
Â  Â  }

Â  Â  // Create dynamic background elements
Â  Â  function createSpaceBackground() {
Â  Â  Â  const spaceBg = document.getElementById('space-bg');
Â  Â  Â  spaceBg.innerHTML = ''; // Clear existing elements

Â  Â  Â  // Stars
Â  Â  Â  for (let i = 0; i < 100; i++) {
Â  Â  Â  Â  const star = document.createElement('div');
Â  Â  Â  Â  star.classList.add('star');
Â  Â  Â  Â  const size = Math.random() * 3 + 1; // 1 to 4px
Â  Â  Â  Â  star.style.width = `${size}px`;
Â  Â  Â  Â  star.style.height = `${size}px`;
Â  Â  Â  Â  star.style.left = `${Math.random() * 100}vw`;
Â  Â  Â  Â  star.style.top = `${Math.random() * 100}vh`;
Â  Â  Â  Â  star.style.setProperty('--duration', `${Math.random() * 3 + 2}s`);
Â  Â  Â  Â  star.style.setProperty('--opacity', `${Math.random() * 0.7 + 0.3}`);
Â  Â  Â  Â  spaceBg.appendChild(star);
Â  Â  Â  }

Â  Â  Â  // Planets
Â  Â  Â  const planets = [
Â  Â  Â  Â  { color: '#FF7F50', size: '100px', duration: '180s' }, // Coral
Â  Â  Â  Â  { color: '#8A2BE2', size: '120px', duration: '150s' }, // BlueViolet
Â  Â  Â  Â  { color: '#20B2AA', size: '80px', duration: '200s' } Â // LightSeaGreen
Â  Â  Â  ];
Â  Â  Â  planets.forEach(p => {
Â  Â  Â  Â  const planet = document.createElement('div');
Â  Â  Â  Â  planet.classList.add('planet');
Â  Â  Â  Â  planet.style.backgroundColor = p.color;
Â  Â  Â  Â  planet.style.width = p.size;
Â  Â  Â  Â  planet.style.height = p.size;
Â  Â  Â  Â  planet.style.setProperty('--duration', p.duration);
Â  Â  Â  Â  planet.style.setProperty('--start-x', `${Math.random() * 50 - 50}%`);
Â  Â  Â  Â  planet.style.setProperty('--start-y', `${Math.random() * 50 - 50}%`);
Â  Â  Â  Â  planet.style.setProperty('--end-x', `${Math.random() * 50 + 100}%`);
Â  Â  Â  Â  planet.style.setProperty('--end-y', `${Math.random() * 50 + 100}%`);
Â  Â  Â  Â  planet.style.setProperty('--start-scale', `${Math.random() * 0.5 + 0.5}`);
Â  Â  Â  Â  planet.style.setProperty('--end-scale', `${Math.random() * 0.5 + 0.8}`);
Â  Â  Â  Â  spaceBg.appendChild(planet);
Â  Â  Â  });

Â  Â  Â  // Spaceships
Â  Â  Â  const spaceships = ['ğŸš€', 'ğŸ›¸', 'ğŸ›°ï¸'];
Â  Â  Â  for (let i = 0; i < 3; i++) {
Â  Â  Â  Â  const ship = document.createElement('div');
Â  Â  Â  Â  ship.classList.add('spaceship');
Â  Â  Â  Â  ship.textContent = spaceships[Math.floor(Math.random() * spaceships.length)];
Â  Â  Â  Â  ship.style.setProperty('--duration', `${Math.random() * 30 + 30}s`);
Â  Â  Â  Â  ship.style.setProperty('--rotation', `${Math.random() * 360}deg`);
Â  Â  Â  Â  ship.style.setProperty('--fly-from-y', `${Math.random() * 100}vh`);
Â  Â  Â  Â  ship.style.setProperty('--fly-to-y', `${Math.random() * 100}vh`);
Â  Â  Â  Â  ship.style.setProperty('--fly-from-x', `${-100 - Math.random() * 200}px`);
Â  Â  Â  Â  ship.style.setProperty('--fly-to-x', `${window.innerWidth + 100 + Math.random() * 200}px`);
Â  Â  Â  Â  spaceBg.appendChild(ship);
Â  Â  Â  }

Â  Â  Â  // Math and Emoji Symbols
Â  Â  Â  const allSymbols = [...mathSymbols, ...emojiSets.space.slice(0, 10)]; // Mix of math and some space emojis
Â  Â  Â  for (let i = 0; i < 20; i++) {
Â  Â  Â  Â  const symbol = document.createElement('div');
Â  Â  Â  Â  symbol.classList.add(Math.random() > 0.5 ? 'math-symbol' : 'emoji-symbol');
Â  Â  Â  Â  symbol.textContent = allSymbols[Math.floor(Math.random() * allSymbols.length)];
Â  Â  Â  Â  symbol.style.left = `${Math.random() * 100}vw`;
Â  Â  Â  Â  symbol.style.top = `${Math.random() * 100}vh`;
Â  Â  Â  Â  symbol.style.setProperty('--duration', `${Math.random() * 50 + 40}s`);
Â  Â  Â  Â  symbol.style.setProperty('--start-x', `${Math.random() * 20 - 10}%`);
Â  Â  Â  Â  symbol.style.setProperty('--start-y', `${Math.random() * 20 - 10}%`);
Â  Â  Â  Â  symbol.style.setProperty('--end-x', `${Math.random() * 20 + 90}%`);
Â  Â  Â  Â  symbol.style.setProperty('--end-y', `${Math.random() * 20 + 90}%`);
Â  Â  Â  Â  spaceBg.appendChild(symbol);
Â  Â  Â  }
Â  Â  }

Â  Â  // Create confetti for celebration
Â  Â  function createConfetti() {
Â  Â  Â  const colors = ['#FF00E6', '#00F0FF', '#7122FA', '#FFCC00', '#00FF88'];
Â  Â  Â  for (let i = 0; i < 100; i++) {
Â  Â  Â  Â  const confetti = document.createElement('div');
Â  Â  Â  Â  confetti.classList.add('confetti');
Â  Â  Â  Â  confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
Â  Â  Â  Â  confetti.style.left = `${Math.random() * 100}vw`;
Â  Â  Â  Â  confetti.style.top = `${-20 - Math.random() * 100}px`; // Start above screen
Â  Â  Â  Â  confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
Â  Â  Â  Â  confetti.style.setProperty('--duration', `${Math.random() * 3 + 2}s`);
Â  Â  Â  Â  confetti.style.setProperty('--delay', `${Math.random() * 1}s`);
Â  Â  Â  Â  document.body.appendChild(confetti);
Â  Â  Â  }
Â  Â  }

Â  Â  // Initial setup on page load
Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  createSpaceBackground();
Â  Â  Â  initializeGame();
Â  Â  });
Â  </script>
</body>
</html>
ï¿½